(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{790:()=>{},1138:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var o=r(5155),n=r(2115),a=r(5695);function s(){let[e,t]=(0,n.useState)(""),[r,s]=(0,n.useState)(""),i=(0,a.useRouter)();return(0,o.jsxs)("div",{style:{padding:"20px",maxWidth:"400px",margin:"auto",marginTop:"100px"},children:[(0,o.jsx)("h2",{children:"Se connecter"}),(0,o.jsx)("div",{style:{marginBottom:"10px"},children:(0,o.jsx)("input",{placeholder:"Email",type:"email",value:e,onChange:e=>t(e.target.value),style:{padding:"8px",width:"100%"}})}),(0,o.jsx)("div",{style:{marginBottom:"10px"},children:(0,o.jsx)("input",{placeholder:"Mot de passe",type:"password",value:r,onChange:e=>s(e.target.value),style:{padding:"8px",width:"100%"}})}),(0,o.jsx)("button",{onClick:()=>{fetch("http://127.0.0.1:5000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,mot_de_passe:r})}).then(e=>e.json()).then(e=>{if(e.user_id&&e.role){localStorage.setItem("userId",e.user_id),localStorage.setItem("role",e.role);let t=new URLSearchParams(window.location.search).get("redirect")||"/";i.push(t)}else alert("Erreur : "+(e.error||"Informations invalides."))}).catch(()=>alert("Erreur lors de la connexion"))},style:{width:"100%",padding:"10px",backgroundColor:"#0077cc",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Se connecter"})]})}r(790)},5695:(e,t,r)=>{"use strict";var o=r(8999);r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})},7108:(e,t,r)=>{Promise.resolve().then(r.bind(r,1138))}},e=>{var t=t=>e(e.s=t);e.O(0,[415,441,684,358],()=>t(7108)),_N_E=e.O()}]);
(()=>{var e={};e.id=66,e.ids=[66],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12891:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=t(65239),n=t(48088),o=t(88170),i=t.n(o),a=t(30893),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);t.d(r,l);let c={children:["",{children:["offres",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,32345)),"C:\\Users\\baers\\Desktop\\Bloc_3_Dev_Python\\frontend\\app\\offres\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\baers\\Desktop\\Bloc_3_Dev_Python\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\baers\\Desktop\\Bloc_3_Dev_Python\\frontend\\app\\offres\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/offres/page",pathname:"/offres",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32345:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\baers\\\\Desktop\\\\Bloc_3_Dev_Python\\\\frontend\\\\app\\\\offres\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\baers\\Desktop\\Bloc_3_Dev_Python\\frontend\\app\\offres\\page.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37305:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var s=t(60687),n=t(85814),o=t.n(n),i=t(43210);let a={color:"white",textDecoration:"none",fontWeight:"bold",padding:"8px 12px",borderRadius:"4px",transition:"background-color 0.3s",cursor:"pointer"},l=()=>{let[e,r]=(0,i.useState)(!1),[t,n]=(0,i.useState)(null),[l,c]=(0,i.useState)(0),[d,p]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{let e=localStorage.getItem("userId"),t=localStorage.getItem("role");e&&t?(r(!0),n(t)):(r(!1),n(null));let s=localStorage.getItem("panier");s?c(JSON.parse(s).length):c(0),p(!1)},[]),d)?null:(0,s.jsxs)("nav",{style:{padding:"10px",backgroundColor:"#333",display:"flex",alignItems:"center",gap:"20px"},children:[(0,s.jsx)(o(),{href:"/",style:a,onMouseOver:e=>e.currentTarget.style.backgroundColor="rgba(255,255,255,0.2)",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:"Accueil"}),(0,s.jsx)(o(),{href:"/offres",style:a,onMouseOver:e=>e.currentTarget.style.backgroundColor="rgba(255,255,255,0.2)",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:"Nos Offres"}),e&&(0,s.jsx)(o(),{href:"/profil",style:a,onMouseOver:e=>e.currentTarget.style.backgroundColor="rgba(255,255,255,0.2)",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:"Profil"}),(0,s.jsxs)(o(),{href:"/panier",style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"5px",...a},onMouseOver:e=>e.currentTarget.style.backgroundColor="rgba(255,255,255,0.2)",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,s.jsx)("span",{children:"Panier"}),(0,s.jsx)("span",{style:{background:"red",color:"white",borderRadius:"50%",padding:"2px 8px",fontSize:"0.8em"},children:l})]}),(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("span",{style:{color:"#fff"},children:["Connect\xe9: ",t]}),(0,s.jsx)("button",{style:{padding:"6px 12px",backgroundColor:"#cc0000",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},onClick:()=>{localStorage.removeItem("userId"),localStorage.removeItem("role"),localStorage.removeItem("panier"),r(!1),n(null)},children:"D\xe9connexion"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{style:{padding:"6px 12px",backgroundColor:"#0077cc",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},onClick:()=>{window.location.href="/connexion"},children:"Connexion"}),(0,s.jsx)(o(),{href:"/inscription",children:(0,s.jsx)("button",{style:{padding:"6px 12px",backgroundColor:"#28a745",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Inscription"})})]})})]})}},42303:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(60687),n=t(43210),o=t(94025),i=t(45619),a=t.n(i),l=t(37305);function c(){let[e,r]=(0,n.useState)([]),[t,o]=(0,n.useState)([]),[i,c]=(0,n.useState)(0),[d,p]=(0,n.useState)(null),[u,f]=(0,n.useState)(null),x=e=>{if(t.some(r=>r.id===e.id))alert("⚠️ Cette offre est d\xe9j\xe0 dans votre panier.");else{let r=[...t,e];o(r),localStorage.setItem("panier",JSON.stringify(r)),c(r=>r+Number(e.prix)),alert("✅ L'offre a \xe9t\xe9 ajout\xe9e \xe0 votre panier !")}},_=e=>{let r=t.filter(r=>r.id!==e);o(r),localStorage.setItem("panier",JSON.stringify(r));let s=t.find(r=>r.id===e);s&&c(e=>e-Number(s.prix))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{}),(0,s.jsx)("h1",{className:a().pageTitle,children:"Achetez vos E-tickets pour les Jeux Olympiques"}),(0,s.jsx)("section",{className:a().offreGrid,children:e.map(e=>(0,s.jsxs)("div",{className:a().offreCard,children:[(0,s.jsx)("h2",{className:a().offreNom,children:e.nom}),(0,s.jsx)("p",{className:a().offreDesc,children:e.description}),(0,s.jsxs)("p",{className:a().offreDate,children:["Date : ",e.date_heure]}),(0,s.jsxs)("p",{className:a().offrePrice,children:["Prix : ",e.prix," €"]}),(0,s.jsxs)("p",{className:a().offreCapacite,children:["Capacit\xe9 : ",e.capacite]}),(0,s.jsx)("button",{className:`${a().btn} ${a()["btn-primary"]}`,onClick:()=>{if(!u||"client"!==u){confirm("Vous devez \xeatre connect\xe9 en tant que client pour r\xe9server. Connectez-vous ou inscrivez-vous.")&&(window.location.href="/connexion");return}x(e)},children:"Acheter Ticket"})]},e.id))}),(0,s.jsxs)("section",{className:a().panierSection,style:{marginTop:"100px"},children:[(0,s.jsx)("h2",{className:a().sectionTitle,children:"Votre Panier"}),0===t.length?(0,s.jsx)("p",{className:a().emptyMessage,children:"Votre panier est vide."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("ul",{className:a().panierList,children:t.map(e=>(0,s.jsxs)("li",{className:a().panierItem,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:e.nom})," — ",Number(e.prix).toFixed(2)," €"]}),(0,s.jsx)("button",{className:a().btnRetirer,onClick:()=>_(e.id),children:"Retirer"})]},e.id))}),(0,s.jsxs)("div",{className:a().total,children:["Total : ",Number(i).toFixed(2)," €"]}),(0,s.jsx)("button",{className:a().btnValider,children:"Valider la R\xe9servation"})]})]})]})}(0,o.UU)("https://ilytpvgngoniasezntau.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlseXRwdmduZ29uaWFzZXpudGF1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5NjIzMTAsImV4cCI6MjA2MzUzODMxMH0.mWvYffpUzrdqK5Kfp-tHb4KmG6U4llTisqKu1_7RBKY")},45619:e=>{e.exports={pageContainer:"styles_pageContainer__reZgk",pageTitle:"styles_pageTitle__LEhcV",offreGrid:"styles_offreGrid__uCfuB",offreCard:"styles_offreCard__mbOcC",offreNom:"styles_offreNom__sczYu",offreDesc:"styles_offreDesc__4GiWJ",offreDate:"styles_offreDate__5juT1",offrePrice:"styles_offrePrice__9mFk6",offreCapacite:"styles_offreCapacite__f7JGh",btn:"styles_btn__oBujd","btn-primary":"styles_btn-primary__yd3BJ","btn-danger":"styles_btn-danger__7tCHp",panierSection:"styles_panierSection__5ucZi",sectionTitle:"styles_sectionTitle__y234g",emptyMessage:"styles_emptyMessage__c15_Y",panierList:"styles_panierList__m6Gmn",panierItem:"styles_panierItem__MEFdx",total:"styles_total__970Lk","btn-retirer":"styles_btn-retirer__0CL4D","btn-valid":"styles_btn-valid__ktG1C",navbar:"styles_navbar__vVPUT",navButton:"styles_navButton__AMavG",statusSection:"styles_statusSection__n7ql4",statusText:"styles_statusText__IOuLT",btnDeconnexion:"styles_btnDeconnexion__nHYOM",btnNav:"styles_btnNav___brYA",active:"styles_active__o4zSv",btnRetirer:"styles_btnRetirer__FDUIT",btnretirer:"styles_btnretirer__mqwL3"}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58014:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(37413);function n({children:e}){return(0,s.jsx)("html",{lang:"fr",children:(0,s.jsx)("body",{children:(0,s.jsx)("main",{children:e})})})}t(61120)},59855:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65026:(e,r,t)=>{Promise.resolve().then(t.bind(t,32345))},68103:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{},99530:(e,r,t)=>{Promise.resolve().then(t.bind(t,42303))}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[825,25,814],()=>t(12891));module.exports=s})();